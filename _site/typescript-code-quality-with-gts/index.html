<!DOCTYPE html><html lang="en"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" /><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="keywords" content="Full-Stack Developer, Programming, Machine Learning, IoT"><meta name="theme-color" content="#000000"><title>Improve TypeScript code quality with Google TypeScript Style Guide | Jirawat Boonkumnerd</title><meta name="generator" content="Jekyll v4.0.0" /><meta property="og:title" content="Improve TypeScript code quality with Google TypeScript Style Guide" /><meta name="author" content="ntsd" /><meta property="og:locale" content="en_US" /><meta name="description" content="GTS is Google’s TypeScript style guide, and the configuration for formatter, linter, and automatic code fixer. No lint rules to edit, no configuration to update, no more bike shedding over syntax." /><meta property="og:description" content="GTS is Google’s TypeScript style guide, and the configuration for formatter, linter, and automatic code fixer. No lint rules to edit, no configuration to update, no more bike shedding over syntax." /><link rel="canonical" href="https://ntsd.me/typescript-code-quality-with-gts/" /><meta property="og:url" content="https://ntsd.me/typescript-code-quality-with-gts/" /><meta property="og:site_name" content="Jirawat Boonkumnerd" /><meta property="og:image" content="https://ntsd.me/pwa/icons/512.png" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-05-03T19:30:54+07:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:image" content="https://ntsd.me/pwa/icons/512.png" /><meta property="twitter:title" content="Improve TypeScript code quality with Google TypeScript Style Guide" /><meta name="twitter:site" content="@ntsd_me" /><meta name="twitter:creator" content="@ntsd" /><meta property="fb:admins" content="jo.ntsd" /><meta property="article:publisher" content="ntsd.me" /><meta property="fb:app_id" content="523337598616322" /> <script type="application/ld+json"> {"dateModified":"2020-05-03T19:30:54+07:00","image":"https://ntsd.me/pwa/icons/512.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://ntsd.me/typescript-code-quality-with-gts/"},"url":"https://ntsd.me/typescript-code-quality-with-gts/","author":{"@type":"Person","name":"ntsd"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://ntsd.me/pwa/icons/512.png"},"name":"ntsd"},"description":"GTS is Google’s TypeScript style guide, and the configuration for formatter, linter, and automatic code fixer. No lint rules to edit, no configuration to update, no more bike shedding over syntax.","headline":"Improve TypeScript code quality with Google TypeScript Style Guide","@type":"BlogPosting","datePublished":"2020-05-03T19:30:54+07:00","@context":"https://schema.org"}</script><link rel="preconnect" href="https://cdnjs.cloudflare.com"><link rel="manifest" href="/pwa/manifest.json" defer><link rel="stylesheet" href="/css/bootstrap.min.css" defer><link rel="stylesheet" href="/css/ntsd-blog.min.css" defer><link rel="shortcut icon" href="/favicon.ico" defer><link rel="apple-touch-icon" href="/favicon.ico" defer> <script></script><nav class="navbar navbar-default navbar-custom navbar-fixed-top"><div class="container-fluid"><div class="navbar-header page-scroll"> <button type="button" class="navbar-toggle"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="/">Jirawat Boonkumnerd</a></div><div id="huxblog_navbar"><div class="navbar-collapse"><ul class="nav navbar-nav navbar-right"><li> <a href="/">Home</a><li> <a href="/categories/">Categories</a><li> <a href="/portfolio/">Portfolio</a><li> <a href="/tags/">Tags</a></ul></div></div></div></nav><script> var $body = document.body; var $toggle = document.querySelector('.navbar-toggle'); var $navbar = document.querySelector('#huxblog_navbar'); var $collapse = document.querySelector('.navbar-collapse'); var __HuxNav__ = { close: function(){ $navbar.className = " "; setTimeout(function() { if($navbar.className.indexOf('in') < 0) { $collapse.style.height = "0px"; } }, 400); }, open: function() { $collapse.style.height = "auto"; $navbar.className += " in"; } }; $toggle.addEventListener('click', function(e) { if ($navbar.className.indexOf('in') > 0) { __HuxNav__.close(); } else{ __HuxNav__.open(); } }); document.addEventListener('click', function(e){ if(e.target == $toggle) return; if(e.target.className == 'icon-bar') return; __HuxNav__.close(); }); </script><style type="text/css"> header.intro-header { position: relative; background-image: url('/../img/in-post/2020-5-3-typescript-code-quality-with-gts/clean.jpg'); }</style><header class="intro-header" ><div class="intro-header-inner"><div class="header-mask"></div><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class="post-heading"> <span class="categories"> <a class="category" href="/categories/#Programming" title="Programming">Programming</a> </span> <span class="tags"> <a class="tag" href="/tags/#Programming" title="Programming">Programming</a> <a class="tag" href="/tags/#TypeScript" title="TypeScript">TypeScript</a> <a class="tag" href="/tags/#ESLint" title="ESLint">ESLint</a> </span><h1>Improve TypeScript code quality with Google TypeScript Style Guide</h1><h2 class="subheading">Using Google TypeScript Style Guide on your TypeScript React project</h2><span class="meta">Posted by ntsd on May 3, 2020</span></div></div></div></div></div></header><article><div class="container"><div class="row"><div class=" col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 post-container"><p>GTS is Google’s TypeScript style guide, and the configuration for formatter, linter, and automatic code fixer. No lint rules to edit, no configuration to update, no more bike shedding over syntax.</p><h2 id="prepare-a-typescript-project">Prepare a TypeScript Project</h2><p>For this tutorial I’ll initialize a TypeScript React project using Create React App.</p><pre><code class="language-Bash"># Install create-react-app cli
npm install -g create-react-app

# Initialize Create React App project
npx create-react-app my-app --template typescript

# Change directory to the app
cd my-app
</code></pre><h2 id="installing-gts">Installing GTS</h2><p>To install GTS you can install it global and run init script.</p><pre><code class="language-Bash"># Install gts cli
npm install -g gts

# Add gts to the project
npx gts init
</code></pre><p>After you overwrite the <code class="highlighter-rouge">tsconfig.json</code>.</p><p>Then you can bring back <code class="highlighter-rouge">compilerOptions</code> for React to make it support JSX and DOM format.</p><p>Full <code class="highlighter-rouge">tsconfig.json</code></p><pre><code class="language-JSON">{
  "extends": "./node_modules/gts/tsconfig-google.json",
  "compilerOptions": {
    "rootDir": ".",
    "outDir": "build",
    "target": "es5",
    "lib": [
      "dom",
      "dom.iterable",
      "esnext"
    ],
    "allowJs": true,
    "skipLibCheck": true,
    "esModuleInterop": true,
    "allowSyntheticDefaultImports": true,
    "strict": true,
    "forceConsistentCasingInFileNames": true,
    "module": "esnext",
    "moduleResolution": "node",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "react"
  },
  "include": [
    "src"
  ]
}
</code></pre><p>You can edit <code class="highlighter-rouge">compilerOptions</code> rules by yourself and you can <code class="highlighter-rouge">cat ./node_modules/gts/tsconfig-google.json</code> to view GTS current setting.</p><h2 id="installing-eslint-plugin-react">Installing eslint-plugin-react</h2><p>GTS will create you the <code class="highlighter-rouge">.eslintrc.json</code> file but the default rules is not support for React App.</p><p>You can view the current GTS ESLint config by <code class="highlighter-rouge">cat ./node_modules/gts/.eslintrc.json</code>.</p><p>This step is how to add React plugin for ESLint.</p><p>Install <code class="highlighter-rouge">eslint-plugin-react</code> Eslint Plugin.</p><pre><code class="language-Bash">npm install eslint-plugin-react --save-dev
</code></pre><p>Add <code class="highlighter-rouge">"plugin:react/recommended"</code> to extends to load the plugin.</p><p>Add the following <code class="highlighter-rouge">env</code> config.</p><p><code class="highlighter-rouge">"browser": true</code> to allow browser JavaScript (window, document).</p><p><code class="highlighter-rouge">"jest": true</code> to allow Global Jest script.</p><p>Full <code class="highlighter-rouge">.eslintrc.json</code></p><pre><code class="language-JSON">{
  "extends": [
    "./node_modules/gts/",
    "plugin:react/recommended"
  ],
  "env": {
    "browser": true,
    "jest": true
  }
}
</code></pre><h2 id="fix-eslint-and-tsconfig">Fix ESLint and TSConfig</h2><p>If you’re using VS Code with ESLint Extension you’ll see errors in your code.</p><p>You can run <code class="highlighter-rouge">npx gts check</code> or <code class="highlighter-rouge">npm run check</code> to check current ESLint and TypeScript error</p><p>For automatic fix code format you can use <code class="highlighter-rouge">npx gts fix</code> or <code class="highlighter-rouge">npm run fix</code>. But for some error you need to fix it yourself because sometimes auto format is not support a type of ESLint error.</p><h2 id="add-husky-and-git-pre-commit">Add Husky and Git pre-commit</h2><p>To make sure you and your team will not put a dirty code to git. You’ll need Husky to make Git pre-commit to check before you commit.</p><p>Install Husky dependency</p><pre><code class="language-Bash">npm install husky --save-dev
</code></pre><p>And then add husky hook command to <code class="highlighter-rouge">package.json</code></p><pre><code class="language-JSON">{
  "husky": {
    "hooks": {
      "pre-commit": "gts check",
    }
  }
}
</code></pre><p>Now every time you commit It will run <code class="highlighter-rouge">gts check</code> command before you commit and it will fail if there’s an error.</p><p>Done! Enjoy your code.</p><h2 id="reference">Reference</h2><p><a href="https://github.com/google/gts">https://github.com/google/gts</a></p><hr style="visibility: hidden;"><ul class="pager"><li class="previous"> <a href="/add-facebook-comments-to-your-website/" data-toggle="tooltip" data-placement="top" title="Add Facebook comments to a website in 5 minutes"> Previous<br> <span>Add Facebook comments to a website in 5 minutes</span> </a></ul></div><div class=" col-lg-2 col-lg-offset-0 visible-lg-block sidebar-container catalog-container"><div class="side-catalog"><h5> <a class="catalog-toggle" href="#">Contents</a></h5><ul class="catalog-body"></ul></div></div><div class=" col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 sidebar-container"><section><hr class="hidden-sm hidden-xs"><h5><a href="/tags/">FEATURED TAGS</a></h5><div class="tags"> <a href="/tags/#General" title="General" rel="1"> General </a> <a href="/tags/#Artificial Intelligence" title="Artificial Intelligence" rel="1"> Artificial Intelligence </a> <a href="/tags/#Programming" title="Programming" rel="6"> Programming </a> <a href="/tags/#Python" title="Python" rel="2"> Python </a> <a href="/tags/#Code golf" title="Code golf" rel="1"> Code golf </a> <a href="/tags/#C++" title="C++" rel="1"> C++ </a> <a href="/tags/#aria2" title="aria2" rel="1"> aria2 </a> <a href="/tags/#Network" title="Network" rel="2"> Network </a> <a href="/tags/#OpenWRT" title="OpenWRT" rel="1"> OpenWRT </a> <a href="/tags/#Router" title="Router" rel="1"> Router </a> <a href="/tags/#Embedded" title="Embedded" rel="1"> Embedded </a> <a href="/tags/#Gatsby" title="Gatsby" rel="1"> Gatsby </a> <a href="/tags/#React" title="React" rel="1"> React </a> <a href="/tags/#GraphQL" title="GraphQL" rel="1"> GraphQL </a> <a href="/tags/#Progressive Web App" title="Progressive Web App" rel="1"> Progressive Web App </a> <a href="/tags/#TypeScript" title="TypeScript" rel="2"> TypeScript </a> <a href="/tags/#Facebook Developer" title="Facebook Developer" rel="1"> Facebook Developer </a> <a href="/tags/#ESLint" title="ESLint" rel="1"> ESLint </a></div></section></div></div></div></article><script> function async(u, c) { var d = document, t = 'script', o = d.createElement(t), s = d.getElementsByTagName(t)[0]; o.src = u; if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); } s.parentNode.insertBefore(o, s); } </script> <script> async("https://cdnjs.cloudflare.com/ajax/libs/anchor-js/1.1.1/anchor.min.js",function(){ anchors.options = { visible: 'always', placement: 'right', icon: '#' }; anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5'); }) </script><style> /* place left on bigger screen */ @media all and (min-width: 800px) { .anchorjs-link{ position: absolute; left: -0.75em; font-size: 1.1em; margin-top : -0.1em; } }</style><footer><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center"><li> <a target="_blank" href="https://www.facebook.com/jo.ntsd" aria-label="Facebook" rel="noopener noreferrer"> <svg class="svg-icon logo-facebook"></svg> </a><li> <a target="_blank" href="https://github.com/ntsd" aria-label="Github" rel="noopener noreferrer"> <svg class="svg-icon logo-github"></svg> </a><li> <a target="_blank" href="https://www.linkedin.com/in/ntsd" aria-label="Linkedin" rel="noopener noreferrer"> <svg class="svg-icon logo-linkedin"></svg> </a></ul><div class="copyright"><div> Copyright &copy; Jirawat Boonkumnerd 2020</div><div> Made with ❤️ by <a href="https://ntsd.me">ntsd</a></div></div></div></div></div></footer><script src="/js/snackbar.min.js" defer></script> <script src="/js/sw-registration.min.js" defer></script> <script> function async(u, c) { var d = document, t = 'script', o = d.createElement(t), s = d.getElementsByTagName(t)[0]; o.src = u; if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); } s.parentNode.insertBefore(o, s); } function asyncStyle(u) { var d = document, t = 'link', o = d.createElement(t), s = d.getElementsByTagName(t)[0]; o.href = u; o.rel="stylesheet"; s.parentNode.insertBefore(o, s); } </script> <script src="/js/jquery.min.js"></script> <script src="/js/ntsd-blog.min.js" defer></script> <script> async("/js/prism.min.js"); asyncStyle("/css/prism.min.css"); </script> <script> async("https://cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js", function() { var $nav = document.querySelector("nav"); if ($nav) FastClick.attach($nav); }); </script> <script type="text/javascript"> function generateCatalog (selector) { /* interop with multilangual */ if ('' == 'true') { _containerSelector = 'div.post-container.active'; } else { _containerSelector = 'div.post-container'; } /* init */ var P = $(_containerSelector),a,n,t,l,i,c; /* side catalog level */ a = P.find('h1,h2'); /* clean */ $(selector).html(''); /* appending */ a.each(function () { n = $(this).prop('tagName').toLowerCase(); i = "#"+$(this).prop('id'); t = $(this).text(); c = $('<a href="'+i+'" rel="nofollow">'+t+'</a>'); l = $('<li class="'+n+'_nav">').append(c); $(selector).append(l); }); return true; } generateCatalog(".catalog-body"); /* toggle side catalog */ $(".catalog-toggle").click((function(e) { e.preventDefault(); $('.side-catalog').toggleClass("fold"); })); /* Doc: https://github.com/davist11/jQuery-One-Page-Nav Fork by Hux to support padding */ async("/js/jquery.nav.min.js", function () { $('.catalog-body').onePageNav({ currentClass: "active", changeHash: !1, easing: "swing", filter: "", scrollSpeed: 700, scrollOffset: 0, scrollThreshold: .2, begin: null, end: null, scrollChange: null, padding: 80 }); }); </script>
